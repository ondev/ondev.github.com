<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: iOS7 | Haven's' Blog]]></title>
  <link href="http://www.ifun.cc/blog/categories/ios7/atom.xml" rel="self"/>
  <link href="http://www.ifun.cc/"/>
  <updated>2014-02-12T20:05:53+08:00</updated>
  <id>http://www.ifun.cc/</id>
  <author>
    <name><![CDATA[Haven]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[FFmpeg for iOS7]]></title>
    <link href="http://www.ifun.cc/blog/2014/02/12/ffmpeg-for-iOS7/"/>
    <updated>2014-02-12T11:24:19+08:00</updated>
    <id>http://www.ifun.cc/blog/2014/02/12/ffmpeg-for-iOS7</id>
    <content type="html"><![CDATA[<p>最近花了点时间来学习ffmpeg for iOS.
首先是编译，在<a href="https://github.com/kewlbear/FFmpeg-iOS-build-script">github</a>上已有人写了编译脚本，我试了，能成功编译。</p>

<p>接着是使用ffmpeg, 在<a href="https://github.com/kolyvan/kxmovie">github</a>上找到一个工程，不过没有更新了（需要ruby环境），它的rake在xcode5环境下是编译不过的。不过我已修改了它的编译脚本，并支持xcode5+iOS7，rake可以直接使用, 大家可以在我的<a href="https://github.com/ondev/kxmovie">github</a>上下载， 我已向原作者提交了pull request。库没有加x86_64，需要的参考arm64自己加吧，这样也明白脚本编译的原理。 <br>
这个工程比较不错用opengles+coreaudio的方式播放视频，值得大家研究研究。</p>

<p>ffmpeg编译通过了，接下来就是ffmpeg的世界。</p>

<p>大家有问题可以给我留言交流也可以加我的qq群交流(疯狂IT人):93916004</p>

<p>Written with <a href="https://stackedit.io/">StackEdit</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[AMR for iOS7]]></title>
    <link href="http://www.ifun.cc/blog/2014/02/09/amr-for-ios7/"/>
    <updated>2014-02-09T11:12:12+08:00</updated>
    <id>http://www.ifun.cc/blog/2014/02/09/amr-for-ios7</id>
    <content type="html"><![CDATA[<p>前不久重新编译了opencore amr. 环境是Xcode4.6.3+iOS6+opencore amr 0.1.3。</p>

<p>Xcode5+iOS7已出来有一段时间了</p>

<p>今天就来用iOS7＋Xcode5编译 opencore amr 0.1.3</p>

<p>还是以前的shell, 支持arm64平台。</p>

<p>我编译了一份库，<a href="https://github.com/ondev/AMR-for-iOS7">传送门</a>。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iOS7新知识汇总]]></title>
    <link href="http://www.ifun.cc/blog/2014/02/09/ios7xin-zhi-shi-hui-zong/"/>
    <updated>2014-02-09T10:24:48+08:00</updated>
    <id>http://www.ifun.cc/blog/2014/02/09/ios7xin-zhi-shi-hui-zong</id>
    <content type="html"><![CDATA[<p>iOS7给我们带来了好多东西，表示我们将有新东西要学习了，在此记录一些网上的教程，方便自己与大家学习。</p>

<p>iOS7 CoreBluetooth</p>

<p><a href="http://www.doubleencore.com/2013/09/whats-new-in-bluetooth-le-ios-7/">http://www.doubleencore.com/2013/09/whats-new-in-bluetooth-le-ios-7/</a><br>
<a href="https://developer.apple.com/library/ios/documentation/NetworkingInternetWeb/Conceptual/CoreBluetooth_concepts/AboutCoreBluetooth/Introduction.html">CoreBluetooth</a></p>

<p>iOS7 Feature</p>

<p><a href="http://blog.bignerdranch.com/3899-uikit-dynamics-and-ios-7-building-uikit-pong/">iOS7 UIKit Dynamics 1</a> <br>
<a href="http://www.raywenderlich.com/50197/uikit-dynamics-tutorial">iOS7 UIKit Dynamics 2</a><br>
<a href="http://www.raywenderlich.com/42699/spritekit-tutorial-for-beginners">iOS7 Sprint Kit</a> <br>
<a href="http://blog.bignerdranch.com/3784-javascriptcore-and-ios-7/">iOS7 JavascriptCore</a><br>
<a href="http://www.raywenderlich.com/51127/nsurlsession-tutorial">iOS7 NSURLSession</a><br>
<a href="http://www.raywenderlich.com/50151/text-kit-tutorial">iOS7 Text Kit</a></p>

<p>iBeacon</p>

<p><a href="http://redbearlab.com/ibeacon/">http://redbearlab.com/ibeacon/</a> <br>
<a href="http://www.devfright.com/ibeacons-tutorial-ios-7-clbeaconregion-clbeacon/">http://www.devfright.com/ibeacons-tutorial-ios-7-clbeaconregion-clbeacon/</a> <br>
<a href="http://maniacdev.com/2013/10/example-an-app-using-the-new-ios-7-ibeacon-api">http://maniacdev.com/2013/10/example-an-app-using-the-new-ios-7-ibeacon-api</a></p>

<p>iOS7 Multipeer Connectivity</p>

<p><a href="http://techmaster.vn/2013/09/multipeer-connectivity-quick-tutorial/">http://techmaster.vn/2013/09/multipeer-connectivity-quick-tutorial/</a></p>

<p>Other iOS7 Tutorial</p>

<p><a href="http://www.shinobicontrols.com/blog/posts/2013/09/19/introducing-ios7-day-by-day/">http://www.shinobicontrols.com/blog/posts/2013/09/19/introducing-ios7-day-by-day/</a><br>
<a href="https://github.com/shu223/iOS7-Sampler">https://github.com/shu223/iOS7-Sampler</a><br>
<a href="http://www.doubleencore.com/2013/09/essential-ios-7-developers-guide/">http://www.doubleencore.com/2013/09/essential-ios-7-developers-guide/</a><br>
<a href="http://www.objc.io/issue-5/">http://www.objc.io/issue-5/</a><br>
<a href="http://www.captechconsulting.com/blog-tags/ios">iOS7 Tutorial Series</a></p>

<p>如果你有更好的教程请补充。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iOS7隐藏status Bar]]></title>
    <link href="http://www.ifun.cc/blog/2014/02/09/ios7yin-cang-status-bar/"/>
    <updated>2014-02-09T00:49:11+08:00</updated>
    <id>http://www.ifun.cc/blog/2014/02/09/ios7yin-cang-status-bar</id>
    <content type="html"><![CDATA[<p>iOS7中，状态栏变化比较大，hide/show状态的方法也不一样了。 在iOS7以前的版本，hide是通过以下代码实现</p>

<p>```
[[UIApplication sharedApplication] setStatusBarHidden:YES withAnimation:UIStatusBarAnimationSlide];</p>

<p>```</p>

<p>在iOS7中默认情况下，这个方法不成功了。到setStatusBarHidden:withAnimation:声明的头文件去看看，多了一句注释： // Setting statusBarHidden does nothing if your application is using the default UIViewController-based status bar system. 现在在iOS7中，status bar的外观默认依赖UIViewController, 也就是说status bar随UIViewController的不同而不同。在这种默认的方式下，用全局的方法setStatusBarHidden:withAnimation:是行不通的。</p>

<p>解决方法是在infor.plist中加入key:UIViewControllerBasedStatusBarAppearance 并设置其值为NO，这样就告诉系统，status bar不依赖于UIViewController. 这样就可以通过上面的方法来hiden status bar.</p>

<p>如果是在默认情况下，如果我们要hiden如何办呢。</p>

<p>只需要实现两个新方法</p>

<p>```
&ndash; (UIStatusBarStyle)preferredStatusBarStyle
{</p>

<pre><code>return UIStatusBarStyleLightContent;
//UIStatusBarStyleDefault = 0 黑色文字，浅色背景时使用
</code></pre>

<p>  //UIStatusBarStyleLightContent = 1 白色文字，深色背景时使用
}</p>

<ul>
<li>(BOOL)prefersStatusBarHidden
{
  return NO; //返回NO表示要显示，返回YES将hiden
}
```</li>
</ul>


<p>上面一个回调方法返回status bar显示时候的样式，下面一个回调控制是否显示status bar.</p>

<p>调用下面的一行代码将会触发上面的回调</p>

<p><code>
[self setNeedsStatusBarAppearanceUpdate];
</code></p>

<p>如果想在hiden/show之间有点动画效果，用下面的代码即可：</p>

<p>```
[UIView animateWithDuration:0.5 animations:^{</p>

<pre><code>    [self setNeedsStatusBarAppearanceUpdate];
}];
</code></pre>

<p>```
现在介绍完毕在iOS7下操作status bar.如有问题，欢迎大家指正。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[适配iOS7开发2]]></title>
    <link href="http://www.ifun.cc/blog/2014/02/09/gua-pei-ios7kai-fa-2/"/>
    <updated>2014-02-09T00:34:13+08:00</updated>
    <id>http://www.ifun.cc/blog/2014/02/09/gua-pei-ios7kai-fa-2</id>
    <content type="html"><![CDATA[<p>在前一篇文章中介绍了非autolayout模式下iOS7的适配工作。 今天来介绍一下autolayout下的适配工作。<br></p>

<p>首先，我们用xcode4.6.3创建一个simgle view application. 选中Use storyboard.<br>
拖一个UIButton到view中。 由于开启了autoLayout， 在xcode4.6.3中，自动会有两个auto layout约束，分别是水平与垂直的约束：
<img src="http://ww2.sinaimg.cn/large/6bf526ffgw1edcfz58ucgj20o00a40u0.jpg" alt="" /></p>

<p>运行程序效果：
<img src="http://ww4.sinaimg.cn/large/6bf526ffgw1edcfzva8w4j20hs0vkjrm.jpg" alt="" /></p>

<p>可以看到是垂直方向上距status bar底部是45px，距右边是186px.<br>
现在我们用xcode5打开这个工程。会提示Upgrade storyboard，我们点击Upgrade. Upgrade后，你会发现，垂直方向上有变化了，约束是从顶部开始，不是从status bar底部开始计算。这也我们想要的结果不一样，我们还是希望约束是从status bar底部开始计算。<br>
仔细看看storyboard中的View Controller， 你会发现，这儿多了两个东东，分别是Top Layout Guide，Bottom Layout Guide. <br>
<img src="http://ww2.sinaimg.cn/large/6bf526ffgw1edcg16hbatj20ny0adaal.jpg" alt="" /></p>

<p>选在我们的button,按住control键，然后拖到Top Layout Guide上，在弹出的对话框选择Vertical spacing
<img src="http://ww3.sinaimg.cn/large/6bf526ffgw1edcg1x4fjij204n03bmx3.jpg" alt="" /></p>

<p>这样又建立了一个垂直约束，你会发现这个约束是从Status bar底部开始计算的。这个约束有点像是我们需要的，
<img src="http://ww1.sinaimg.cn/large/6bf526ffgw1edcg2i341lj20mt0a7wf4.jpg" alt="" /></p>

<p>但是这个约束距status bar是25px,我们想要的是45px. 那只需要修改一下，将25px改为45px
<img src="http://ww4.sinaimg.cn/large/6bf526ffgw1edcg36ji0xj20vk09fmy3.jpg" alt="" /></p>

<p>你会发现有storyboard中有红色提示，这说明约束条件发生了冲突，因为垂直约束的值都为45，显示冲突了。由于我们只需要status bar底部开始计算的那个约束，所以我们将旧的那个删掉即可。
<img src="http://ww1.sinaimg.cn/large/6bf526ffgw1edcg3vzbylj20nj0akt97.jpg" alt="" /></p>

<p>现在分别选择iOS6/iOS7来运行。都是距status bar下面45px显示button. 适配工程完成。<br>
顺便介绍一下xcode5中，用xib或storyboard布局的时候，preview iOS7与iOS7以前版本的效果。 快捷键：option+command+enter 打开Assistant editor,然后选择右边的automatic->preview->xxxxx(preview)
<img src="http://ww4.sinaimg.cn/large/6bf526ffgw1edcg4xvwgnj20fi0fcabq.jpg" alt="" /></p>

<p>然后在出现的画面下面有一个切换iOS7与以前版本的切换开关
<img src="http://ww2.sinaimg.cn/large/6bf526ffgw1edcg5lktzgj20ca0l6t9c.jpg" alt="" /></p>

<p>这样可以方例你实时的查看布局效果以适配不同版本的iOS.<br>
最后： auto layout是好东西，虽然只有>iOS6的版本才支持，但是我还是建意大家用auto layout,因为以后苹果也可能出现多种屏幕，到时候代码修改量将会减少。</p>

<p>参考：<a href="https://developer.apple.com/library/ios/qa/qa1797/_index.html">https://developer.apple.com/library/ios/qa/qa1797/_index.html</a></p>
]]></content>
  </entry>
  
</feed>
